# Radio-Nice API

Все ответы возвращаются в JSON с такими общими полями, как: message, status. При успешном выполнении status = "success", при неуспешном status = "error". В поле message можно получить подробное сообщение об ошибке и об успешном выполнении запроса.

В некоторых запросах необходимо передавать токен аутентификации в хедере (Authorization: Bearer {token}) - такие запросы будут помечены ключевым словом **AUTH**.

Также могут встречаться адреса такого вида - **/api/something/{param_id}**. Вместо квадратных скобок необходимо подставить значение. Если в квадратных скобках есть знак вопроса - **{param_id?}** - это значит, что параметр необязательный


## Аутентификация
  ### Регистрация 
  * POST /api/register 
 
  **Аргументы:**
  * email
  * password (минимум 8 символов)
  * password_again
  * name (максимум 20 символов)
  * surname (максимум 32 символа)
  
  **Возвращает:**
  * user - объект с данными пользователя
  * token - токен пользователя для передачи в хедере Authorization
  
  <br/>
  
  ### Вход 
  * POST /api/login
  
  
  **Аргументы:**
  * email
  * password
  
  **Возвращает:**
  * user - объект с данными пользователя
  * token - токен пользователя для передачи в хедере Authorization
  
  <br/>
  
  ### Выход из аккаунта 
  * POST /api/logout
  * Возвращает только сообщение об успешном удалении токена пользователя. (Делается для безопасности, чтобы токеном больше нельзя было воспользоваться)
___

## Пользователи
  ### Получить данные текущего пользователя 
  * GET /api/user/current (**AUTH**). 
  
  **Возвращает:**
  * user - объект с данными текущего пользователя
  
  <br/>
  
  ### Получить данные всех пользователей/определенного пользователя - 
  * GET /api/user/{user_id?} (**AUTH, ADMIN**). 
  
  **Возвращает:**
  * user - объект с данными пользователя(-ей)
___

## Реклама
  ### Получить рекламные баннеры музыкантов
  * GET /api/advert/artist/{banner_id?}. 
  
  **Возвращает:**
  * artist_adverts - объект с данными баннера(-ов)
  
  <br/>
  
  ### Создать новый баннер музыканта
  * POST /api/advert/artist/save (**AUTH, ADMIN**). 
  
  **Аргументы:**
  * banner - изображение
  * artist - имя музыканта
  * genre - жанр
  * description - описание (необязательный)
  * url - ссылка, на которую будет вести баннер
  
  **Возвращает:**
  * message
  
  <br/>
  
  ### Удалить баннер музыканта
  * DELETE /api/advert/artist/delete/{banner_id} (**AUTH, ADMIN**). 
  
  **Возвращает:**
  * message
  
___

## Трансляции
  ### Получить информацию о трансляциях
  * GET /api/stream/{stream_id?}. 
  
  **Возвращает:**
  * streams - информация о траснляции(-ях)
  
  <br/>
  
  ### Получить URL трансляции
  * GET /api/stream/url/{stream_id}
  
  **Возвращает:**
  * stream_url
  
  <br/>
  
  ### Получить текущий трек для трансляции
  * GET /api/stream/track/{stream_id}
  
  **Возвращает:**
  * current_track - объект с информацией о текущем треке
  
  <br/>
  
  ### Создать новую трансляцию
  * POST /api/stream/save (**AUTH, ADMIN**). 
  
  **Аргументы:**
  * server_id - id сервера из админки радио
  * video_stream_link - ссылка на видео-трансляцию (необязательный параметр)
  * title - название трансляции
  * genre - жанр
  * description - описание (необязательный параметр)
  * main_image - главное изображение
  * thumbnail - иконка
  
  **Возвращает:**
  * message
  
  <br/>
  
  ### Удалить трансляцию
  * DELETE /api/stream/delete/{stream_id}. 
  
  **Возвращает:**
  * message
___
